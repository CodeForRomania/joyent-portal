#! /usr/bin/env bash

#
# Prelude
#
set -euo pipefail
IFS=$'\n\t'
# Beware of CDPATH gotchas causing cd not to work correctly when a user 
# has set this in their environment
# https://bosker.wordpress.com/2012/02/12/bash-scripters-beware-of-the-cdpath/
unset CDPATH

readonly INCLUDE="$( cd "$( dirname "${BASH_SOURCE[0]}" )" && pwd )"
. "${INCLUDE}"/setup_tools

#
# Main
#
ensure_prerequisites
ensure_docker_config_matches_triton_config_and_capture_triton_details
ensure_triton_cns_is_enabled
write_env_file
