/*
 * based on
 * https://github.com/kristoferjoseph/flexboxgrid/blob/master/dist/flexboxgrid.css
 */

~sizes: "../../shared/constants.js";
~breakpoints: "../../shared/constants.js";

:root {
  --gutter-compensation: ~sizes.gutterCompensation;
}

@custom-media --sm-viewport ~breakpoints.sm;
@custom-media --md-viewport ~breakpoints.md;
@custom-media --lg-viewport ~breakpoints.lg;

@define-mixin viewport $size {
  &.start-$(size) {
    justify-content: flex-start;
    text-align: start;
  }

  &.center-$(size) {
    justify-content: center;
    text-align: center;
  }

  &.end-$(size) {
    justify-content: flex-end;
    text-align: end;
  }

  &.top-$(size) {
    align-items: flex-start;
  }

  &.middle-$(size) {
    align-items: center;
  }

  &.bottom-$(size) {
    align-items: flex-end;
  }

  &.around-$(size) {
    justify-content: space-around;
  }

  &.between-$(size) {
    justify-content: space-between;
  }

  &.first-$(size) {
    order: -1;
  }

  &.last-$(size) {
    order: 1;
  }
}

.row {
  box-sizing: border-box;
  display: flex;
  flex: 0 1 auto;
  flex-direction: row;
  flex-wrap: wrap;
  margin-left: var(--gutter-compensation, -0.5rem);
  margin-right: var(--gutter-compensation, -0.5rem);

  &.reverse {
    flex-direction: row-reverse;
  }

  @mixin viewport xs;

  @media ( --sm-viewport ) {
    @mixin viewport sm;
  }

  @media ( --md-viewport ) {
    @mixin viewport md;
  }

  @media ( --lg-viewport ) {
    @mixin viewport lg;
  }
}
